### REST API микросервис для регистрации организации и её филиалов с возможностью добавления в неё новых сотрудников по средствам пригласительной ссылки отправляемой на почту. Для реализации сервера использован веб-фрейморк Gin.

1. Запрос на создание организации v1/organization/create
+ Пользователь, который регистрирует компанию, автоматически становится её владельцем
+ Данные передаваемые в теле запроса: название организации, тип юр. лица, юр. адрес, ИНН, id владельца
  
2. Запрос на редактирование организации v1/organization/edit
+ Редактировать данные об организации может только владелец
+ Данные передаваемые в теле запроса: id пользователя, название организации, тип юр. лица, юр. адрес

3. Запрос на получение данных об организации v1/organization/get_info
+ Получать данные об организации может только человек, который к ней относится 
+ Данные передаваемые в качестве параметров url: id организации, id пользователя
+ Данные получаемые теле ответа: название организации, тип юр. лица, юр. адрес, ИНН

4. Запрос на создание филиала по конечной точке v1/filial/create
+ Регистрировать филиал может владелец и директор филиала
+ Данные передаваемые в теле запроса: название филиала, страна, город, адрес, тип филиала, список телефонов, список email, список id фотографий филиала, id организации, id пользователя

5. Запрос на редактирование филиала v1/filial/edit
+ Редактировать данные об организации может только владелец организации и директор филиала
+ Данные передаваемые в теле запроса: id пользователя, id филиала, название филиала, страна, город, адрес, тип филиала, список телефонов, список email, список id фотографий филиала

6. Запрос на получение информации о филиале v1/filial/get_info
+ Получать данные об организации может только человек, который к ней относится
+ Данные передаваемые в качестве параметров url: id филиала, id пользователя
+ Данные получаемые теле ответа: название филиала, страна, город, адрес, тип филиала, список телефонов, список email, список id фотографий филиала, id организации, id пользователя

7. Запрос на получение списка филиалов организации v1/organization/filials
+ Получать список филиалов может только пользователь относящийся к организации
+ Данные передаваемые в качестве параметров url: id организации, id пользователя
+ Данные получаемые в теле ответа: список из id и названий филиалов (надо подумать, как лучше это всё выводить)

8. Запрос на добавление сотрудника в организацию и филиалы v1/filial/add_worker:
+ Владелец может добавить сотрудника в любой филиал
+ Директор филиала может добавить сотрудника только в свой филиал
+ Данные передаваемые в теле запроса: id организации, id филиала, id пользователя, должность нового сотрудника, почта добавляемого сотрудника
+ Также необходимо отправлять на почту ссылку для подтверждения того, что человек становится сотрудником филиала. При переходе по ссылке нужно как-то отмечать, что человек стал подтверждённым сотрудником и у него есть доступ к получению информации об организации и филиалах. У ссылки также должно быть время жизни (ttl). На экран выводить ничего не надо при переходе по ссылке

##### Сервис разбит на 3 основных слоя:

- слой обработки запросов: ./api
- слой основной логики: ./internal/service
- слой работы с бд: ./internal/db

##### В качестве основной БД выбран PostgreSQL
Для хранения созданы 4 таблицы:

- organization - для хранения данных организаций
- filial - для хранения данных филиалов
- employee - для хранения данных пользователей
- employee_invite - для хранения пригласительных ссылок
- Для просты решения и отладки все id решил использовать типа int, а не uuid


### Сборка и запуск
Сервис, а так же база данных собирается в docker:  
Для успешного запуска сервиса в файле config/config.yml необходимо прописать данные реального smtp сервера (выполняется проверка на их наличие и возможность авторизации).  
Для сборки и запуска используется makefile  
По команде make test будут выполнены юнит тесты (тесты написаны только для слоя работы с БД, выполняются на тестовой базе данных, запускаемой в отдельном контейнере)  
